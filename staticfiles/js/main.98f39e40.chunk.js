(this["webpackJsonpreact-frontend"]=this["webpackJsonpreact-frontend"]||[]).push([[0],{47:function(t,e,n){},61:function(t,e,n){},62:function(t,e,n){},65:function(t,e,n){},66:function(t,e,n){"use strict";n.r(e);var i,a,r,c,s=n(0),o=n(23),u=n.n(o),d=(n(47),n(6)),l=n(17),f=n(5),j=n(1),b=function(t){var e=t.handleLogin;return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Welcome!"}),Object(j.jsx)("button",{onClick:e,children:"Login"})]})},h=n(21),x=n(22),p=(n.p,x.a.div(i||(i=Object(h.a)(["\n  width: 300px;\n  height: 300px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 15%;\n  position: relative;\n  perspective: 500px;\n"])))),O=x.a.div(a||(a=Object(h.a)(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  transform: translateZ(-1714px);\n  transform-style: preserve-3d;\n  transition: transform 1s;\n"]))),g=x.a.div(r||(r=Object(h.a)(["\n  background-color: lightblue;\n  position: absolute;\n  width: 250px;\n  height: 250px;\n  border: 2px solid black;\n  line-height: 150px;\n  font-size: 80px;\n  font-weight: bold;\n  color: black;\n  text-align: center;\n  transition: all 1s;\n  ","\n"])),(function(t){return"{ transform: rotateY(".concat(t.position,"deg) translateZ(1714px);}")})),m=x.a.div(c||(c=Object(h.a)(["\n  position: absolute;\n  background-color: black;\n  padding: 20px;\n  text-align: center;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n"]))),y=function(t){var e=t.images,n=t.selectPlaylist,i=(t.userInfo,t.ids),a=Object(s.useState)([]),r=Object(d.a)(a,2),c=r[0],o=r[1];Object(s.useEffect)((function(){o(Array.from({length:e.length},(function(t,n){return 10*n-10*Math.floor(e.length/2)})))}),[e]);return Object(j.jsxs)("div",{children:[Object(j.jsx)(p,{children:Object(j.jsx)(O,{children:c.map((function(t,a){return Object(j.jsx)(g,{position:t,positions:c,children:Object(j.jsx)("img",{src:e[a],alt:"Playlist cover",width:"250",height:"250",onClick:function(){return n(i[a])}})},a)}))})}),Object(j.jsxs)(m,{children:[Object(j.jsx)("button",{onClick:function(){return function(t){if(0===t[0])o(t);else{var e=t.map((function(t){return t+10}));o(e)}}(c)},children:"prev"}),Object(j.jsx)("button",{onClick:function(){return function(t){if(0===t[t.length-1])o(t);else{var e=t.map((function(t){return t-10}));o(e)}}(c)},children:"next"})]})]})},v=function(t){var e=t.authenticated,n=t.userInfo,i=t.playlistList,a=t.selectPlaylist,r=i.map((function(t){return t.images[0].url})),c=i.map((function(t){return t.id}));return e?Object(j.jsx)(y,{images:r,selectPlaylist:a,userInfo:n,ids:c}):Object(j.jsx)(f.a,{to:"/login"})},S=n(41),w=n.n(S);function E(){var t=window;return{width:t.innerWidth,height:t.innerHeight}}var k=function(t){var e=t.data,n=t.Xdim,i=t.Ydim,a=t.Zdim,r=e.titles.map((function(t){return"".concat(t[0]," - ").concat(t[1])})),c=function(){var t=Object(s.useState)(E()),e=Object(d.a)(t,2),n=e[0],i=e[1];return Object(s.useEffect)((function(){function t(){i(E())}return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),n}(),o=c.height,u=c.width,l={tick0:0,tickcolor:"#D3D3D3",tickwidth:2,gridcolor:"#D3D3D3",gridwidth:2,zerolinecolor:"#D3D3D3",zerolinewidth:2};return Object(j.jsx)(w.a,{config:{displayModeBar:!1},data:[{x:n,y:i,z:a,type:"scatter3d",mode:"markers",marker:{color:e.labels,symbol:"circle"},hoverlabel:{bgcolor:"grey"},hoverinfo:"text",text:r}],layout:{displayModeBar:!1,margin:{pad:20},width:u,height:o,paper_bgcolor:"black",scene:{aspectmode:"auto",yaxis:l,xaxis:l,zaxis:l}}})},N=n.p+"static/media/demo-loader.67b2533e.svg",T=(n(61),function(){return Object(j.jsx)("div",{className:"loadingAnimationContainer",children:Object(j.jsx)("object",{type:"image/svg+xml",data:N,children:"svg-animation"})})}),L=(n(62),n(63),n(42)),D=n(27),_=function(){var t={TSNE1:{array:"TSNE_features",index:0},TSNE2:{array:"TSNE_features",index:1},TSNE3:{array:"TSNE_features",index:2},acousticness:{array:"features",index:0},danceability:{array:"features",index:1},energy:{array:"features",index:2},instrumentalness:{array:"features",index:3},liveness:{array:"features",index:4},loudness:{array:"features",index:5},speechiness:{array:"features",index:6},tempo:{array:"features",index:7},valence:{array:"features",index:8}},e=Object(s.useState)([]),n=Object(d.a)(e,2),i=n[0],a=n[1],r=Object(s.useState)([]),c=Object(d.a)(r,2),o=c[0],u=c[1],l=Object(s.useState)([]),b=Object(d.a)(l,2),h=b[0],x=b[1],p=Object(s.useState)([]),O=Object(d.a)(p,2),g=O[0],m=O[1],y=Object(s.useState)("TSNE1"),v=Object(d.a)(y,2),S=v[0],w=v[1],E=Object(s.useState)("TSNE2"),N=Object(d.a)(E,2),_=N[0],z=N[1],C=Object(s.useState)("TSNE3"),I=Object(d.a)(C,2),Y=I[0],P=I[1],X=Object(f.h)();Object(s.useEffect)((function(){a(X.data),u(X.data.TSNE_features.map((function(t){return t[0]}))),x(X.data.TSNE_features.map((function(t){return t[1]}))),m(X.data.TSNE_features.map((function(t){return t[2]}))),console.log(X.data)}),[X.data,i]);var Z=function(t){return"X axis"===t?S:"Y axis"===t?_:Y};return void 0===i.TSNE_features?Object(j.jsx)(T,{}):Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"buttonContainer",children:["X axis","Y axis","Z axis"].map((function(e,n){return Object(j.jsxs)("div",{style:{color:"white"},children:[e,Object(j.jsx)(L.a,{title:Z(e),children:Object.entries(t).map((function(t){var n=Object(d.a)(t,2),a=n[0],r=n[1];return Object(j.jsx)("div",{children:Object(j.jsx)(D.a.Item,{eventKey:a,onClick:function(){!function(t,e,n){"X axis"===t?(u(i[e.array].map((function(t){return t[e.index]}))),w(n)):"Y axis"===t?(x(i[e.array].map((function(t){return t[e.index]}))),z(n)):(m(i[e.array].map((function(t){return t[e.index]}))),P(n))}(e,r,a)},children:a})},a)}))})]},n)}))}),Object(j.jsx)(k,{data:i,Xdim:o,Ydim:h,Zdim:g})]})},z=(n(65),function(t){var e=t.loading,n=t.showLoading,i=t.hideLoading,a=Object(s.useState)(!1),r=Object(d.a)(a,2),c=r[0],o=r[1],u=Object(s.useState)([]),l=Object(d.a)(u,2),h=l[0],x=l[1],p=Object(s.useState)({}),O=Object(d.a)(p,2),g=O[0],m=O[1],y=Object(f.g)();Object(s.useEffect)((function(){fetch("/spotify/is-authenticated").then((function(t){return t.json()})).then((function(t){console.log("authentication status: ".concat(t.status)),o(t.status),i()}))}),[]),Object(s.useEffect)((function(){c&&(fetch("/spotify/playlists").then((function(t){return t.json()})).then((function(t){x(t.playlists.items)})),fetch("/spotify/user-profile").then((function(t){return t.json()})).then((function(t){m(t.user_profile),i()})))}),[c]);var S=Object(f.i)("/playlists/:id"),w=S?h.find((function(t){return t.id===Number(S.params.id)})):null;return e?Object(j.jsx)(T,{}):Object(j.jsxs)(f.d,{children:[Object(j.jsx)(f.b,{path:"/playlists/:id",children:Object(j.jsx)(_,{id:w})}),Object(j.jsx)(f.b,{path:"/login",children:Object(j.jsx)(b,{handleLogin:function(){return fetch("/spotify/is-authenticated").then((function(t){return t.json()})).then((function(t){t.status||fetch("/spotify/get-auth-url").then((function(t){return t.json()})).then((function(t){o(!0),window.location.replace(t.url)}))}))}})}),Object(j.jsx)(f.b,{path:"/",children:Object(j.jsx)(v,{authenticated:c,userInfo:g,playlistList:h,selectPlaylist:function(t){n(),fetch("/spotify/get-tracks-data",{headers:{id:t}}).then((function(t){return t.json()})).then((function(e){y.push({pathname:"playlists/".concat(t),data:e}),i()}))}})})]})}),C=function(){var t=Object(s.useState)(!0),e=Object(d.a)(t,2),n=e[0],i=e[1];return Object(j.jsx)(l.a,{children:Object(j.jsx)(z,{loading:n,showLoading:function(){return i(!0)},hideLoading:function(){return i(!1)}})})};u.a.render(Object(j.jsx)(C,{}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.98f39e40.chunk.js.map