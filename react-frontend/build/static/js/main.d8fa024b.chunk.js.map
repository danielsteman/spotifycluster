{"version":3,"sources":["components/Login.js","components/Covers.js","components/Home.js","hooks/useWinDims.js","components/Plot.js","assets/loading_animation_v1.svg","components/LoadingScreen.js","components/Playlist.js","components/ErrorScreen.js","App.js","components/Root.js","index.js"],"names":["LoginTitle","styled","div","typing","keyframes","blinkCaret","LoginTypewriter","LoginTypewriterContainer","LoginContainer","LoginButton","button","Login","handleLogin","useState","activeIndex","setActiveIndex","models","useEffect","setTimeout","length","onClick","Grid","PlaylistsCoversContainer","PlaylistsCover","img","PlaylistsInfoContainer","PlaylistsInfoTitle","PlaylistsInstuctionText","PlaylistsInfoText","PlotButton","Covers","images","selectPlaylist","userInfo","titles","ids","artists","features","TSNEfeatures","playlistList","selectedPlaylist","setSelectPlaylistId","taskId","setTaskId","data","map","artist","index","history","useHistory","image","src","alt","x","id","display_name","filter","value","self","indexOf","push","pathname","fetch","method","headers","body","JSON","stringify","then","response","json","console","log","Home","authenticated","getLabels","url","to","getWindowDimensions","window","width","innerWidth","height","innerHeight","ScatterPlot","labels","Xdim","Ydim","Zdim","windowDimensions","setWindowDimensions","handleResize","addEventListener","removeEventListener","useWindowDimensions","axesStyle","tick0","tickcolor","tickwidth","gridcolor","gridwidth","zerolinecolor","zerolinewidth","style","transform","config","displayModeBar","y","z","type","mode","marker","color","symbol","hoverlabel","bgcolor","hoverinfo","text","dataPointLabels","layout","margin","pad","paper_bgcolor","scene","aspectmode","yaxis","xaxis","zaxis","Animation","object","LoadingScreen","LoadingAnimation","ButtonContainer","Playlist","dimensionOptions","TSNE1","array","TSNE2","TSNE3","acousticness","danceability","energy","instrumentalness","liveness","loudness","speechiness","tempo","valence","setData","selectedDimX","setSelectedDimX","selectedDimY","setSelectedDimY","selectedDimZ","setSelectedDimZ","XButtonTitle","setXButtonTitle","YButtonTitle","setYButtonTitle","ZButtonTitle","setZButtonTitle","location","useLocation","TSNE_features","buttonTitle","axis","undefined","DropdownButton","title","Object","entries","dim","Dropdown","Item","eventKey","selectDims","keys","model","DropdownItem","ErrorPage","App","loading","showLoading","hideLoading","setAuthenticated","setPlaylistList","setUserInfo","setTitles","setArtists","setIds","setSelectedPlaylist","setFeatures","setTSNEfeatures","setLabels","status","playlists","items","user_profile","match","useRouteMatch","playlist","find","Number","params","path","replace","playlistId","getPlaylistDataRecursively","track_ids","next_url","flat","interval","setInterval","state","result","clearInterval","component","ErrorScreen","Root","setLoading","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d8fa024b.chunk.js","sourcesContent":["import styled, { keyframes } from \"styled-components\";\nimport { useState, useEffect } from \"react\";\n\nconst LoginTitle = styled.div`\n    color : white;\n    font-size: 7vw;\n    font-family: 'Mulish', sans-serif;\n    font-weight: 700;\n`\n\nconst typing = keyframes`\n    0% { width: 0 }\n    20% { width: 0% }\n    30% { width: 100% }\n    70% { width: 100% }\n    80% { width: 0 }\n    100% { width: 0 }\n`\n\nconst blinkCaret = keyframes`\n    from, to { border-color: transparent }\n    50% { border-color: #11FD4C; }\n`\n\nconst LoginTypewriter = styled.div`\n    display: inline-block;\n    color : white;\n    font-size: 7vw;\n    font-family: 'Mulish', sans-serif;\n    font-weight: 700;\n\n    overflow: hidden; /* Ensures the content is not revealed until the animation */\n    border-right: .15em solid #11FD4C; /* The typwriter cursor */\n    white-space: nowrap; /* Keeps the content on a single line */\n\n    margin: 0 auto; /* Gives that scrolling effect as the typing happens */\n    animation: \n        ${typing} 5s steps(15, end) infinite,\n        ${blinkCaret} .75s step-end infinite;\n`\n\nconst LoginTypewriterContainer = styled.div`\n    width: max-content;\n`\n\nconst LoginContainer = styled.div`\n    margin: 3em;\n`\n\nconst LoginButton = styled.button`\n    padding: 1em;\n    margin-top: 1em;\n    margin-left: 50%;\n    transform: translate(-50%);\n\n    font-family: 'Mulish', sans-serif;\n    font-weight: 700;\n    font-size: 3vw;    \n    color: white;\n    \n    border: 7px solid;\n    border-color: white;\n    background-color: black;\n    width: max-content;\n\n    @media screen and (max-width: 500px) {\n        margin-top: 12em;\n    }\n`\n\nconst Login = ( {handleLogin} ) => {\n\n    const [activeIndex, setActiveIndex] = useState(0)\n\n    const models = ['K-means', 'Mean Shift', 'Affinity Propagation']\n\n    const nextModel = () => {\n        if (activeIndex < models.length - 1) {\n            setActiveIndex(activeIndex + 1)\n        } else {\n            setActiveIndex(0)\n        }\n    }\n\n    useEffect(() => {\n        setTimeout(() => {\n            nextModel()\n        }, 5000)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [activeIndex])\n\n    return (\n        <LoginContainer>\n            <LoginTitle>Find clusters in your Spotify playlists using...</LoginTitle>\n            <LoginTypewriterContainer>\n                <LoginTypewriter>{models[activeIndex]}</LoginTypewriter>\n            </LoginTypewriterContainer>\n            <LoginButton onClick={handleLogin}>Login</LoginButton>\n        </LoginContainer>\n    )\n}\n\nexport default Login","import styled from \"styled-components\";\nimport { useHistory } from 'react-router-dom';\nimport { useState } from \"react\";\n\nconst Grid = styled.div`\n    display: grid;\n    grid-template-columns: 50% 50%;\n`\n\nconst PlaylistsCoversContainer = styled.div`\n    padding: 1em;\n    grid-row-start: 1;\n    grid-column-start: 1;\n`\n\nconst PlaylistsCover = styled.img`\n    object-fit: cover;\n    width: 100%;\n    max-height: 100%;\n    margin-left: 50%;\n    transform: translate(-50%);\n    padding: 2vw 6vw;\n    @media screen and (min-width: 1025px) {\n        padding: 2vw 12vw;\n    }\n`\n\nconst PlaylistsInfoContainer = styled.div`\n    grid-row-start: 1;\n    grid-column-start: 2;\n    position: sticky;\n    top: 0;\n    height: 100vh;\n    padding: calc(1em + 2vh);\n    color: white;\n`\n\nconst PlaylistsInfoTitle = styled.div`\n    font-family: 'Mulish', sans-serif;\n    font-weight: 700;\n    font-size: 4vw;    \n    color: white;\n`\n\nconst PlaylistsInstuctionText = styled.div`\n    margin: 2vw 0;\n\n    font-family: 'Mulish', sans-serif;\n    font-style: italic;\n    font-weight: 300;\n    font-size: 2vw;    \n    color: white;\n`\n\nconst PlaylistsInfoText = styled.div`\n    font-family: 'Mulish', sans-serif;\n    font-weight: 300;\n    font-size: 2vw;    \n    color: white;\n`\n\nconst PlotButton = styled.button`\n    padding: 1em;\n    margin-top: 5em;\n\n    font-family: 'Mulish', sans-serif;\n    font-weight: 700;\n    font-size: 2vw;\n    color: white;\n    \n    border: 7px solid;\n    border-color: white;\n    background-color: black;\n    width: max-content;\n`\n\nconst Covers = ({ \n    images, \n    selectPlaylist, \n    userInfo, \n    ids, \n    titles, \n    artists, \n    features,\n    TSNEfeatures,\n    playlistList, \n    selectedPlaylist, \n    setSelectPlaylistId,\n    }) => {\n\n    const [taskId, setTaskId] = useState('')\n\n    function onlyUnique(value, index, self) {\n        return self.indexOf(value) === index;\n    }\n\n    const dataPointLabels = artists.map((artist, index) => {\n        return `${artist} - ${titles[index]}`\n    })\n\n    const data = {'dataPointLabels': dataPointLabels, 'TSNE_features': TSNEfeatures, 'features': features}\n\n    const history = useHistory()\n\n    return(\n        <Grid>\n            <PlaylistsCoversContainer>\n                {images.map((image, index) => (\n                    <PlaylistsCover\n                        key={index}\n                        src={image}\n                        alt=\"Playlist cover\"\n                        onClick={() => {\n                            selectPlaylist(playlistList.map(x => x.id)[index])\n                            setSelectPlaylistId(playlistList.map(x => x.id)[index])\n                        }}\n                    />\n                ))}\n            </PlaylistsCoversContainer>\n            <PlaylistsInfoContainer>\n                <PlaylistsInfoTitle>Hi, {userInfo.display_name}</PlaylistsInfoTitle>\n                <PlaylistsInstuctionText>Click on a playlist cover to fetch its data</PlaylistsInstuctionText>\n                {titles.length > 0\n                    && <div>\n                        <PlaylistsInfoText>No. of songs: {titles.length}</PlaylistsInfoText>\n                        <PlaylistsInfoText>No. of artists: {artists.filter(onlyUnique).length}</PlaylistsInfoText>\n                        <PlotButton onClick={() => {\n                            history.push({pathname: `playlists/${selectedPlaylist}`, data})\n                        }}>Plot</PlotButton>\n                    </div>\n                }\n                <PlotButton \n                    onClick={() => {\n                        fetch('/spotify/dimension-reduction-async', {\n                            method: 'POST',\n                            headers: {\n                            'Content-Type': 'application/json',\n                            },\n                            body: JSON.stringify({\n                                'features': features\n                            })\n                        })\n                        .then(response => response.json())\n                        .then(data => {\n                            console.log(data)\n                            setTaskId(data)\n                        })\n                    }}\n                >Celery start</PlotButton>\n                <PlotButton \n                    onClick={() => {\n                        fetch('/spotify/task-result', {\n                            method: 'POST',\n                            headers: {\n                                'Content-Type': 'application/json',\n                                'taskId': taskId\n                            }\n                        })\n                        .then(response => response.json())\n                        .then(data => {\n                            console.log(taskId)\n                            console.log(data)\n                        })\n                    }}\n                >Celery status</PlotButton>\n            </PlaylistsInfoContainer>\n        </Grid>\n    )\n}\n\nexport default Covers;","import { Redirect } from 'react-router-dom';\nimport Covers from './Covers'\n\nconst Home = ({ \n    authenticated, \n    userInfo, \n    playlistList, \n    selectPlaylist, \n    titles, \n    features,\n    TSNEfeatures,\n    ids, \n    artists, \n    selectedPlaylist, \n    setSelectPlaylistId,\n    getLabels\n}) => {\n    const images = playlistList.map(x => x.images[0].url)\n    if (authenticated) {\n        return(\n            <Covers\n                images={images} \n                selectPlaylist={selectPlaylist} \n                userInfo={userInfo}\n                titles={titles}\n                artists={artists}\n                features={features}\n                ids={ids}\n                playlistList={playlistList}\n                selectedPlaylist={selectedPlaylist}\n                setSelectPlaylistId={setSelectPlaylistId}\n                TSNEfeatures={TSNEfeatures}\n                getLabels={getLabels}\n            />\n        )\n    } else {\n        return (\n            <Redirect to='/login'/>\n        )\n    }\n}\n\nexport default Home","import { useState, useEffect } from 'react';\n\nfunction getWindowDimensions() {\n  const { innerWidth: width, innerHeight: height } = window;\n  return {\n    width,\n    height\n  };\n}\n\nexport default function useWindowDimensions() {\n  const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n    }\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  return windowDimensions;\n}","import Plot from 'react-plotly.js';\nimport useWindowDimensions from '../hooks/useWinDims'\n\nconst ScatterPlot = ( {data, labels, Xdim, Ydim, Zdim} ) => {\n\n    // first item in tuple in data.titles is the song name, the second item is the artist\n    // const artistsAndTitles = data.titles.map(track => `${track[0]} - ${track[1]}`)\n\n    // use custom hook to retrieve fullscreen measurements\n    const { height, width } = useWindowDimensions()\n\n    const axesStyle = {\n        tick0: 0,\n        tickcolor: \"#D3D3D3\",\n        tickwidth: 2,\n        \n        gridcolor: \"#D3D3D3\",\n        gridwidth: 2,\n        \n        zerolinecolor: \"#D3D3D3\",\n        zerolinewidth: 2\n    }\n\n    return (\n        <Plot\n            style={{transform: 'scale(1.3)'}}\n            config={{displayModeBar: false}}\n            data={[\n                {\n                    x: Xdim,\n                    y: Ydim,\n                    z: Zdim,\n                    type: 'scatter3d',\n                    mode: 'markers',\n                    marker: {color: labels, symbol: 'circle'},\n                    hoverlabel: {bgcolor: 'grey'},\n                    hoverinfo: 'text',\n                    text: data.dataPointLabels\n                }\n            ]}\n            layout={ {\n                displayModeBar: false,\n                margin: {pad: 20},\n                width: width, \n                height: height,\n                paper_bgcolor: 'black',\n                scene: {\n                    aspectmode: 'auto',\n                    yaxis: axesStyle,\n                    xaxis: axesStyle,\n                    zaxis: axesStyle\n                }\n            } }\n        />\n    )\n}\n\nexport default ScatterPlot","export default __webpack_public_path__ + \"static/media/loading_animation_v1.2dd379a5.svg\";","import LoadingAnimation from '../assets/loading_animation_v1.svg'\nimport styled from \"styled-components\";\n\nconst Animation = styled.object`\n    height: 15vh;\n    width: 15vh;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%); \n    position: fixed;\n`\n\nconst LoadingScreen = () => (\n    <div>\n        <Animation type=\"image/svg+xml\" data={LoadingAnimation}>svg-animation</Animation>\n    </div>\n)\n\nexport default LoadingScreen","import { useLocation } from 'react-router-dom';\nimport React, { useState, useEffect } from \"react\";\nimport ScatterPlot from './Plot';\nimport LoadingScreen from './LoadingScreen'\nimport styled from \"styled-components\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport DropdownButton from 'react-bootstrap/DropdownButton';\nimport Dropdown from 'react-bootstrap/Dropdown'\nimport DropdownItem from 'react-bootstrap/esm/DropdownItem';\n\nconst ButtonContainer = styled.div`\n    position: absolute;\n    z-index: 1;\n    background-color: transparent;\n    text-align: center;\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    width: 50%;\n    left: 50%;\n    transform: translateX(-50%)\n`\n\nconst Playlist = ({ getLabels, labels }) => {\n\n    const models = {\n        'K-means': {'params': {'n_clusters': 0}},\n        'Affinity Propagation': {'params': {'max_iter': 5000, 'convergence_iter': 150}},\n        'Mean Shift': {'params': {'n_jobs': -1}}\n    }\n\n    const dimensionOptions = {\n        TSNE1: {array: 'TSNE_features', index: 0},\n        TSNE2: {array: 'TSNE_features', index: 1},\n        TSNE3: {array: 'TSNE_features', index: 2},\n        acousticness: {array: 'features', index: 0},\n        danceability: {array: 'features', index: 1},\n        energy: {array: 'features', index: 2},\n        instrumentalness: {array: 'features', index: 3},\n        liveness: {array: 'features', index: 4},\n        loudness: {array: 'features', index: 5},\n        speechiness: {array: 'features', index: 6},\n        tempo: {array: 'features', index: 7},\n        valence: {array: 'features', index: 8}\n    }\n\n    const axes = [\n        'X axis',\n        'Y axis',\n        'Z axis'\n    ]\n\n    const [data, setData] = useState([])\n    const [selectedDimX, setSelectedDimX] = useState([])\n    const [selectedDimY, setSelectedDimY] = useState([])\n    const [selectedDimZ, setSelectedDimZ] = useState([])\n\n    const [XButtonTitle, setXButtonTitle] = useState('TSNE1')\n    const [YButtonTitle, setYButtonTitle] = useState('TSNE2')\n    const [ZButtonTitle, setZButtonTitle] = useState('TSNE3')\n\n    const location = useLocation();\n\n    useEffect(() => {\n        setData(location.data)\n        setSelectedDimX(location.data.TSNE_features.map(x => x[0]))\n        setSelectedDimY(location.data.TSNE_features.map(x => x[1]))\n        setSelectedDimZ(location.data.TSNE_features.map(x => x[2]))\n    }, [location.data, data])\n\n    const selectDims = (axis, value, dim) => {\n        if (axis === 'X axis') {\n            setSelectedDimX(data[value.array].map(x => x[value.index]))\n            setXButtonTitle(dim)\n        } else if (axis === 'Y axis') {\n            setSelectedDimY(data[value.array].map(x => x[value.index]))\n            setYButtonTitle(dim)\n        } else {\n            setSelectedDimZ(data[value.array].map(x => x[value.index]))\n            setZButtonTitle(dim)\n        }\n    }\n\n    const buttonTitle = (axis) => {\n        if (axis === 'X axis') {\n            return XButtonTitle\n        } else if (axis === 'Y axis') {\n            return YButtonTitle\n        } else {\n            return ZButtonTitle\n        }\n    }\n\n    if (data.TSNE_features === undefined) {return <LoadingScreen/>}\n    \n    return(\n        <div>\n            <ButtonContainer>\n                {axes.map((axis, index) => (\n                    <div key={index} style={{color: 'white'}}>\n                        <DropdownButton\n                            title={buttonTitle(axis)}\n                        >\n                            {Object.entries(dimensionOptions).map(([dim, value]) =>\n                                <div key={dim}>\n                                    <Dropdown.Item\n                                        eventKey={dim} \n                                        onClick={() => {selectDims(axis, value, dim)}}\n                                    >{dim}</Dropdown.Item>\n                                </div>\n                            )}\n                        </DropdownButton>\n                    </div>\n                ))}\n                <DropdownButton title='Model Selector'>\n                    {Object.keys(models).map((model, index) => (\n                        <DropdownItem \n                            eventKey={model}\n                            key={index}\n                            onClick={() => getLabels(model)}\n                        >{model}</DropdownItem>\n                    ))}\n                </DropdownButton>\n            </ButtonContainer>\n            <ScatterPlot\n                data={data}\n                labels={labels} \n                Xdim={selectedDimX}\n                Ydim={selectedDimY}\n                Zdim={selectedDimZ}\n            />\n        </div>\n    )\n}\n\nexport default Playlist","const ErrorPage = () => {\n    return (\n        <div>Page not found</div>\n    )\n}\n\nexport default ErrorPage","import { Switch, Route, useRouteMatch } from 'react-router-dom';\nimport Login from './components/Login'\nimport Home from './components/Home'\nimport Playlist from './components/Playlist'\nimport LoadingScreen from './components/LoadingScreen'\nimport ErrorScreen from './components/ErrorScreen'\nimport React, { useState, useEffect } from \"react\";\nimport './App.css'\n\nconst App = ({ loading, showLoading, hideLoading }) => {\n\n  const [authenticated, setAuthenticated] = useState(false)\n\n  const [playlistList, setPlaylistList] = useState([])\n  const [userInfo, setUserInfo] = useState({})\n  const [titles, setTitles] = useState([])\n  const [artists, setArtists] = useState([])\n  const [ids, setIds] = useState([])\n  const [selectedPlaylist, setSelectedPlaylist] = useState('')\n\n  const [features, setFeatures] = useState([])\n  const [TSNEfeatures, setTSNEfeatures] = useState([])\n\n  const [labels, setLabels] = useState([])\n\n  useEffect(() => {\n    fetch('/spotify/is-authenticated')\n      .then(response => response.json())\n      .then(data => {\n        console.log(`authentication status: ${data.status}`)\n        setAuthenticated(data.status)\n        hideLoading()\n      })\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  useEffect(() => {\n    if (authenticated) {\n      fetch('/spotify/playlists')\n      .then(response => response.json())\n      .then(data => {\n        const ids = data.playlists.items.map(x => x.id)\n        setIds(ids)\n        setPlaylistList(data.playlists.items)\n      })\n      fetch('/spotify/user-profile')\n      .then(response => response.json())\n      .then(data => {\n        setUserInfo(data.user_profile)\n        hideLoading()\n      })\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [authenticated])\n\n  // setSelectPlaylistId method is passed down so the state can be updated from child components\n  const setSelectPlaylistId = (playlistId) => {\n    setSelectedPlaylist(playlistId)\n  }\n\n  const getLabels = (model) => {\n    showLoading()\n    fetch('/spotify/get-labels', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Model': model\n      },\n      body: JSON.stringify(features)\n    })\n    .then(response => response.json())\n    .then(data => {\n      setLabels(data)\n      hideLoading()\n    })\n  }\n\n  const fetchPlaylist = (playlistId) => {\n\n    showLoading()\n\n    setTitles([])\n    setArtists([])\n    setFeatures([])\n    setTSNEfeatures([])\n    setIds([])\n    setLabels([])\n\n    const features = []\n\n    const getPlaylistDataRecursively = (url) => {\n      return fetch('/spotify/get-track-ids', {headers: {\n        'url': url\n      }})\n      .then(response => response.json())\n      .then(data => {\n\n        console.log(data)\n\n        setTitles(titles => ([...titles, ...data.title]))\n        setArtists(artists => ([...artists, ...data.artist]))\n        setFeatures(features => ([...features, ...data.features]))\n        setIds(ids => ([...ids, ...data.track_ids]))\n        features.push(data.features)\n\n        if (data.next_url) {\n          const next_url = data.next_url.replace('https://api.spotify.com/v1', '')\n          return getPlaylistDataRecursively(next_url)\n        } else {\n\n          return fetch('/spotify/dimension-reduction-async', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n              'features': features.flat()\n            })\n          })\n          .then(response => response.json())\n          .then(data => {\n            console.log(data)\n\n            const interval = setInterval(() => {\n              fetch('/spotify/task-result', {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json',\n                  'taskId': data\n                }\n              })\n              .then(response => response.json())\n              .then(data => {\n                console.log(data)\n                if (data.state === 'SUCCESS') {\n                  setTSNEfeatures(data.result)\n                  clearInterval(interval)\n                }\n              })\n            }, 3000)\n          })\n        }\n      })\n    }\n\n    return getPlaylistDataRecursively(`/playlists/${playlistId}/tracks/?offset=0&limit=100`)\n      .then(() => {\n        hideLoading()\n      });\n  }\n\n  const handleLogin = () => {  \n    return(\n    fetch('/spotify/is-authenticated')\n      .then(response => response.json())\n      .then(data => {\n        if (!data.status) {\n          fetch('/spotify/get-auth-url')\n            .then(response => response.json())\n            .then(data => {\n              setAuthenticated(true)\n              window.location.replace(data.url)\n            })\n        }\n      })\n    )\n  }\n\n  const match = useRouteMatch('/playlists/:id')\n  const playlist = match\n    ? playlistList.find(playlist => playlist.id === Number(match.params.id))\n    : null\n\n  if (loading) { return <LoadingScreen/> }\n  return (\n    <div>\n      <Switch>\n        <Route path='/playlists/:id'>\n          <Playlist\n            id={playlist}\n            getLabels={getLabels}\n            labels={labels}\n          />\n        </Route>\n        <Route path='/login'>\n          <Login handleLogin={handleLogin} />\n        </Route>\n        <Route path='/'>\n          <Home\n            authenticated={authenticated}\n            userInfo={userInfo}\n            playlistList={playlistList}\n            selectPlaylist={fetchPlaylist}\n            titles={titles}\n            artists={artists}\n            features={features}\n            TSNEfeatures={TSNEfeatures}\n            ids={ids}\n            selectedPlaylist={selectedPlaylist}\n            setSelectPlaylistId={setSelectPlaylistId}\n            getLabels={getLabels}\n          />\n        </Route>\n        <Route component={ErrorScreen} />\n      </Switch>\n    </div>\n  )\n}\n\nexport default App;","import {\n    BrowserRouter as Router\n  } from \"react-router-dom\";\nimport App from '../App';\nimport { useState } from 'react';\n\n// To get a loading screen between routes, I needed to lift the loading state to a HOC\n\nconst Root = () => {\n\n    const [loading, setLoading] = useState(true)\n\n    const showLoading = () => (\n        setLoading(true)\n    )\n\n    const hideLoading = () => (\n        setLoading(false)\n    )\n\n    return(\n        <Router>\n            <App loading={loading} showLoading={() => showLoading()} hideLoading={() => hideLoading()}/>\n        </Router>\n    )\n}\n\nexport default Root","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Root from './components/Root'\n\nReactDOM.render(\n  <Root/>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}